Q. 为什么制作这个固件
A. 制作这个固件的目的是为了鱼和熊掌兼得，实现在RG100A-AA（BCM96358 VW2）
   上运行OpenWRT的同时能够使用该路由器自带的ADSL模块进行拨号。
   基本方法是将OpenWRT的根文件系统与DSL-2760的内核集成在一起。
   
Q. 固件支持ADSL驱动吗？
A. 支持。

Q. 我的XXX路由器能不能刷这个固件？
A. 不清楚，自己尝试。本人只在RG100A-AA上进行测试。
   原理上只要是使用broadcom 96358 VW2芯片的路由器都可以尝试。

Q. 有没有Web管理界面？
A. 没有。
   本固件体积控制在4M以下，只集成最基本的包和常用的内核模块。
   刷机成功后，只支持ssh登录进行命令行操作，默认用户名是：root，密码：admin
   注意：登录成功后请及时执行passwd修改密码。

   需要Web管理的可以用opkg安装Web管理模块，
   但是ADSL设置部分尚无对应的Web模块，只能通过文本编辑器修改。

Q. 以后会不会支持Web管理界面？
A. 不会。

A. 怎么刷这个固件？
Q. 如果已经刷过本固件的旧版本，则把固件上传到路由器后执行如下命令：
   mtd -r write <固件文件名> linux
   否则进入CFE的刷机界面进行更新。

   本固件要求CFE版本1.0.37-102.9，如果刷完本固件后路由器无法启动，
   可以尝试刷带CFE的版本。
   注意：刷CFE的版本可能导致你的路由器变砖头，慎重！

Q. 如何配置ADSL？
A. 第一步：ssh登录路由器

   第二步：编辑/etc/config/modem，设置正确的vpi/vci。
   通常只要设置vpi/vci即可，另外有两个可选的配置项：
     1. option port: 用于设置ADSL通信模式，有两个可选值：fast（默认），interleave
     2. option encaps: 用于设置ADSL封装方式，有两个可选值：llc（默认），vc
   样例：
   config vcc inet
       option vpi      8
       option vci      35
  
   第三步：修改/etc/config/network，将wan口的ifname设置为inet_vpi_vci，
   此处vpi/vci用实际值填充，并正确设置pppoe用户名密码。
   样例：
   config interface wan
       option proto     pppoe
       option ifname    inet_8_35
       option username  XXXXXX
       option password  YYYYYY

   一切就绪后执行下面的命令尝试ADSL拨号：
   /etc/init.d/modem boot

   如果拨号成功，执行下面的命令将modem设置为开机自动启动：
   /etc/init.d/modem enable

Q. 为什么*正确*配置ADSL参数后还是不能拨号上网？
A. 执行logread，看pppd错误信息，自己摸索原因。

Q. 为什么路由器已经能拨号上网，但是内网机器无法上网？
A. 固件没有安装firewall，有两种解决方法：
    1. 安装firewall
       opkg update
       opkg install firewall
       reboot
    2. 自己编写iptables规则，比如
       iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -j MASQUERADE

Q. 如何配置VLAN？
A. ssh登录路由器，编辑/etc/config/kernel
   option vlan   on
   然后参考OpenWRT官方文档配置/etc/config/network
   http://wiki.openwrt.org/doc/uci/network#switch
   最后重启路由器。
   注意：错误的VLAN设置可能导致LAN无法连接，这种情况下只能拆机用TTL线连接后重新配置。

Q. 如何挂载USB硬盘
A. 编辑/etc/modules.d/90-usb-storage，去掉相关模块的注释。
   比如要加载ext3的usb2.0硬盘，应加载如下模块：
	scsi_mod
	sd_mod
	ehci-hcd
	usb-storage

	# EXT3
	mbcache
	jbd
	ext3
   此外，固件已经集成block-hotplug，可以通过配置/etc/config/fstab实现自动挂载硬盘分区，
   具体方法请参考OpenWRT官方文档：
   http://wiki.openwrt.org/doc/uci/fstab

Q. 更新固件后如何保持opkg的状态信息与实际安装内容一致？
A. 有两种方法：
   1. 执行update-opkg-status，这个脚本会在stdout上打印一份新的status文件，
      先将其重定向到一个临时文件，然后覆盖/usr/lib/opkg/status即可，
      覆盖前最好先备份一下，之所以不在脚本里直接覆盖旧版也是出于这方面的考虑。
      注意：不要把update-opkg-status的输出直接重定向到/usr/lib/opkg/status
   2. 保存配置，清空rootfs_data分区，重新安装需要的package并恢复配置信息。
      清空命令如下：
      mtd -r erase rootfs_data

